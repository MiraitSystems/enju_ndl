  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (23.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (40.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateSubjects (29)
  [1m[35m (1.0ms)[0m  CREATE TABLE "subjects" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "parent_id" integer, "use_term_id" integer, "term" varchar(255), "term_transcription" text, "subject_type_id" integer NOT NULL, "scope_note" text, "note" text, "required_role_id" integer DEFAULT 1 NOT NULL, "lock_version" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime, "deleted_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("subjects")[0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_subjects_on_term" ON "subjects" ("term")
  [1m[36m (0.3ms)[0m  [1mPRAGMA index_list("subjects")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_subjects_on_term')
  [1m[36m (0.6ms)[0m  [1mCREATE INDEX "index_subjects_on_parent_id" ON "subjects" ("parent_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("subjects")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_subjects_on_parent_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_subjects_on_term')
  [1m[36m (0.3ms)[0m  [1mCREATE INDEX "index_subjects_on_use_term_id" ON "subjects" ("use_term_id")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("subjects")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_subjects_on_use_term_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_subjects_on_parent_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_subjects_on_term')[0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_subjects_on_subject_type_id" ON "subjects" ("subject_type_id")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("subjects")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_subjects_on_subject_type_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_subjects_on_use_term_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_subjects_on_parent_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_subjects_on_term')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_subjects_on_required_role_id" ON "subjects" ("required_role_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('29')[0m
Migrating to CreateClassifications (142)
  [1m[35m (0.6ms)[0m  CREATE TABLE "classifications" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "parent_id" integer, "category" varchar(255) NOT NULL, "note" text, "classification_type_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("classifications")[0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_classifications_on_parent_id" ON "classifications" ("parent_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("classifications")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_classifications_on_parent_id')
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_classifications_on_category" ON "classifications" ("category")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("classifications")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_classifications_on_category')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_classifications_on_parent_id')
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_classifications_on_classification_type_id" ON "classifications" ("classification_type_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('142')
Migrating to CreateSubjectHasClassifications (143)
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "subject_has_classifications" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subject_id" integer, "subject_type" varchar(255), "classification_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("subject_has_classifications")
  [1m[36m (0.3ms)[0m  [1mCREATE INDEX "index_subject_has_classifications_on_subject_id" ON "subject_has_classifications" ("subject_id")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("subject_has_classifications")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_subject_has_classifications_on_subject_id')[0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_subject_has_classifications_on_classification_id" ON "subject_has_classifications" ("classification_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('143')[0m
Migrating to CreateClassificationTypes (144)
  [1m[35m (0.5ms)[0m  CREATE TABLE "classification_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "display_name" text, "note" text, "position" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('144')[0m
Migrating to CreateSubjectHeadingTypes (145)
  [1m[35m (0.5ms)[0m  CREATE TABLE "subject_heading_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "display_name" text, "note" text, "position" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('145')[0m
Migrating to CreateSubjectTypes (146)
  [1m[35m (0.5ms)[0m  CREATE TABLE "subject_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "display_name" text, "note" text, "position" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('146')[0m
Migrating to CreateWorkHasSubjects (20080606052544)
  [1m[35m (2.6ms)[0m  CREATE TABLE "work_has_subjects" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subject_id" integer, "subject_type" varchar(255), "work_id" integer, "position" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("work_has_subjects")[0m
  [1m[35m (0.2ms)[0m  CREATE INDEX "index_work_has_subjects_on_subject_id" ON "work_has_subjects" ("subject_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("work_has_subjects")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_work_has_subjects_on_subject_id')
  [1m[36m (0.2ms)[0m  [1mCREATE INDEX "index_work_has_subjects_on_work_id" ON "work_has_subjects" ("work_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20080606052544')
Migrating to CreateSubjectHeadingTypeHasSubjects (20090208044541)
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "subject_heading_type_has_subjects" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "subject_id" integer NOT NULL, "subject_type" varchar(255), "subject_heading_type_id" integer NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (3.6ms)[0m  PRAGMA index_list("subject_heading_type_has_subjects")
  [1m[36m (0.3ms)[0m  [1mCREATE INDEX "index_subject_heading_type_has_subjects_on_subject_id" ON "subject_heading_type_has_subjects" ("subject_id")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20090208044541')
Migrating to AddLftAndRgtToClassification (20110913120629)
  [1m[36m (2.1ms)[0m  [1mALTER TABLE "classifications" ADD "lft" integer[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "classifications" ADD "rgt" integer
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110913120629')[0m
  [1m[35m (4.6ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("classification_types")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("classifications")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_classifications_on_classification_type_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_classifications_on_category')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_classifications_on_parent_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("subject_has_classifications")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_subject_has_classifications_on_classification_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_subject_has_classifications_on_subject_id')[0m
  [1m[35m (0.2ms)[0m  PRAGMA index_list("subject_heading_type_has_subjects")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_subject_heading_type_has_subjects_on_subject_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("subject_heading_types")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("subject_types")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("subjects")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_subjects_on_required_role_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_subjects_on_subject_type_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_subjects_on_use_term_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_subjects_on_parent_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_subjects_on_term')[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("work_has_subjects")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_work_has_subjects_on_work_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_work_has_subjects_on_subject_id')
  [1m[36mFixture Delete (26.5ms)[0m  [1mDELETE FROM "subjects"[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO "subjects" ("updated_at", "term", "scope_note", "subject_type_id", "term_transcription", "id", "note", "parent_id", "created_at") VALUES ('2008-03-01 18:19:58.534251', 'next-l', NULL, 1, 'next-l', 1, NULL, NULL, '2008-03-01 08:53:06.118389')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "subjects" ("updated_at", "term", "scope_note", "subject_type_id", "term_transcription", "id", "note", "parent_id", "created_at") VALUES ('2008-03-01 18:19:57.946759', 'test2', NULL, 1, 'test2', 2, NULL, NULL, '2008-03-01 08:50:34.658349')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "subjects" ("updated_at", "term", "scope_note", "subject_type_id", "term_transcription", "id", "note", "parent_id", "created_at") VALUES ('2008-03-01 18:19:58.048475', 'test3', NULL, 1, 'test3', 3, NULL, NULL, '2008-03-01 08:51:39.448430')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "subjects" ("updated_at", "term", "scope_note", "subject_type_id", "term_transcription", "id", "note", "parent_id", "created_at") VALUES ('2008-03-01 18:19:58.048475', 'test4', NULL, 1, 'test4', 4, NULL, NULL, '2008-03-01 08:51:39.448430')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "subjects" ("updated_at", "term", "scope_note", "subject_type_id", "term_transcription", "id", "note", "parent_id", "created_at") VALUES ('2008-03-01 18:19:58.048475', 'test5', NULL, 1, 'test5', 5, NULL, NULL, '2008-03-01 08:51:39.448430')
  [1m[36mSubject Load (0.4ms)[0m  [1mSELECT "subjects".* FROM "subjects" WHERE "subjects"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "subjects"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "subjects" ("updated_at", "term", "scope_note", "subject_type_id", "term_transcription", "id", "note", "parent_id", "created_at") VALUES ('2008-03-01 18:19:58.534251', 'next-l', NULL, 1, 'next-l', 1, NULL, NULL, '2008-03-01 08:53:06.118389')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "subjects" ("updated_at", "term", "scope_note", "subject_type_id", "term_transcription", "id", "note", "parent_id", "created_at") VALUES ('2008-03-01 18:19:57.946759', 'test2', NULL, 1, 'test2', 2, NULL, NULL, '2008-03-01 08:50:34.658349')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "subjects" ("updated_at", "term", "scope_note", "subject_type_id", "term_transcription", "id", "note", "parent_id", "created_at") VALUES ('2008-03-01 18:19:58.048475', 'test3', NULL, 1, 'test3', 3, NULL, NULL, '2008-03-01 08:51:39.448430')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "subjects" ("updated_at", "term", "scope_note", "subject_type_id", "term_transcription", "id", "note", "parent_id", "created_at") VALUES ('2008-03-01 18:19:58.048475', 'test4', NULL, 1, 'test4', 4, NULL, NULL, '2008-03-01 08:51:39.448430')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "subjects" ("updated_at", "term", "scope_note", "subject_type_id", "term_transcription", "id", "note", "parent_id", "created_at") VALUES ('2008-03-01 18:19:58.048475', 'test5', NULL, 1, 'test5', 5, NULL, NULL, '2008-03-01 08:51:39.448430')
  [1m[36mSubject Load (0.3ms)[0m  [1mSELECT "subjects".* FROM "subjects" WHERE "subjects"."id" = ? LIMIT 1[0m  [["id", 1]]


Started GET "/subjects" for 127.0.0.1 at 2011-10-15 19:30:20 +0900
  Processing by SubjectsController#index as HTML
Completed 500 Internal Server Error in 14ms


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:06:04 +0900
  Processing by NdlBooksController#index as HTML
Completed 500 Internal Server Error in 8ms


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:07:12 +0900
  Processing by NdlBooksController#index as HTML
Completed 500 Internal Server Error in 8ms


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:08:54 +0900
  Processing by NdlBooksController#index as HTML
Completed 500 Internal Server Error in 8ms


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:11:40 +0900
  Processing by NdlBooksController#index as HTML
Completed 500 Internal Server Error in 10ms


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:20:11 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:22:25 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:25:02 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:25:59 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:26:30 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:27:24 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:27:45 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:28:32 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=enju&cnt=10&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:29:13 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:29:30 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:45:17 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:47:35 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:48:57 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:58:14 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 20:58:37 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:00:08 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:01:36 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:02:58 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:07:13 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:07:44 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:09:05 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:10:02 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (114.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (62.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20111201111937)
  [1m[35m (0.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201111937')[0m
Migrating to AddDeviseToUsers (20111201111948)
  [1m[35m (0.4ms)[0m  ALTER TABLE "users" ADD "email" varchar(255) DEFAULT '' NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "encrypted_password" varchar(128) DEFAULT '' NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "reset_password_token" varchar(255)
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "reset_password_sent_at" datetime[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "remember_created_at" datetime
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ADD "sign_in_count" integer DEFAULT 0[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "current_sign_in_at" datetime
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "last_sign_in_at" datetime[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "current_sign_in_ip" varchar(255)
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_sign_in_ip" varchar(255)[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (1.0ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201111948')[0m
Migrating to CreateManifestations (20111201115353)
  [1m[35m (0.5ms)[0m  CREATE TABLE "manifestations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "original_title" text, "title_transcription" text, "title_alternative" text, "pub_date" varchar(255), "isbn" varchar(255), "nbn" varchar(255), "ndc" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201115353')[0m
Migrating to CreatePatrons (20111201115421)
  [1m[35m (0.4ms)[0m  CREATE TABLE "patrons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "full_name" text, "full_name_transcription" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201115421')[0m
Migrating to CreateCreates (20111201115527)
  [1m[35m (0.4ms)[0m  CREATE TABLE "creates" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "work_id" integer, "patron_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201115527')[0m
Migrating to CreateProduces (20111201115540)
  [1m[35m (0.5ms)[0m  CREATE TABLE "produces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "manifestation_id" integer, "patron_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201115540')[0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("creates")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("manifestations")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("patrons")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("produces")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_reset_password_token')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_users_on_email')
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:15:25 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
  [1m[36m (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20111201111937)
Migrating to AddDeviseToUsers (20111201111948)
Migrating to CreateManifestations (20111201115353)
Migrating to CreatePatrons (20111201115421)
Migrating to CreateCreates (20111201115527)
Migrating to CreateProduces (20111201115540)
Migrating to CreateLanguages (20111201121636)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "languages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "native_name" varchar(255), "iso_639_1" varchar(255), "iso_639_2" varchar(255), "iso_639_3" varchar(255), "note" text, "position" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111201121636')
  [1m[36m (0.5ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("creates")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("languages")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("manifestations")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("patrons")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("produces")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_reset_password_token')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_users_on_email')
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.1ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:17:12 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20111201111937)
Migrating to AddDeviseToUsers (20111201111948)
Migrating to CreateManifestations (20111201115353)
Migrating to CreatePatrons (20111201115421)
Migrating to CreateCreates (20111201115527)
Migrating to CreateProduces (20111201115540)
Migrating to CreateLanguages (20111201121636)
Migrating to CreateRoles (20111201121844)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "display_name" text, "note" text, "position" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111201121844')
  [1m[36m (0.4ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("creates")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("languages")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("manifestations")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("patrons")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("produces")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("roles")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_users_on_reset_password_token')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.2ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:24:01 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (55.9ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (2.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20111201111937)
  [1m[35m (0.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201111937')[0m
Migrating to AddDeviseToUsers (20111201111948)
  [1m[35m (0.5ms)[0m  ALTER TABLE "users" ADD "email" varchar(255) DEFAULT '' NOT NULL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "encrypted_password" varchar(128) DEFAULT '' NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "reset_password_token" varchar(255)
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "reset_password_sent_at" datetime[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "remember_created_at" datetime
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ADD "sign_in_count" integer DEFAULT 0[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "current_sign_in_at" datetime
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_sign_in_at" datetime[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "current_sign_in_ip" varchar(255)
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_sign_in_ip" varchar(255)[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.5ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.3ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201111948')[0m
Migrating to CreateManifestations (20111201115353)
  [1m[35m (0.5ms)[0m  CREATE TABLE "manifestations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "original_title" text, "title_transcription" text, "title_alternative" text, "pub_date" varchar(255), "isbn" varchar(255), "nbn" varchar(255), "ndc" varchar(255), "language_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201115353')[0m
Migrating to CreatePatrons (20111201115421)
  [1m[35m (0.6ms)[0m  CREATE TABLE "patrons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "full_name" text, "full_name_transcription" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201115421')[0m
Migrating to CreateCreates (20111201115527)
  [1m[35m (0.8ms)[0m  CREATE TABLE "creates" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "work_id" integer, "patron_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201115527')[0m
Migrating to CreateProduces (20111201115540)
  [1m[35m (0.5ms)[0m  CREATE TABLE "produces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "manifestation_id" integer, "patron_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201115540')[0m
Migrating to CreateLanguages (20111201121636)
  [1m[35m (0.7ms)[0m  CREATE TABLE "languages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "native_name" varchar(255), "iso_639_1" varchar(255), "iso_639_2" varchar(255), "iso_639_3" varchar(255), "note" text, "position" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201121636')[0m
Migrating to CreateRoles (20111201121844)
  [1m[35m (0.5ms)[0m  CREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "display_name" text, "note" text, "position" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201121844')[0m
  [1m[35m (0.5ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("creates")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("languages")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("manifestations")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("patrons")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("produces")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("roles")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_reset_password_token')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_users_on_email')
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.1ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:26:16 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (51.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (2.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20111201111937)
  [1m[35m (0.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201111937')[0m
Migrating to AddDeviseToUsers (20111201111948)
  [1m[35m (0.5ms)[0m  ALTER TABLE "users" ADD "email" varchar(255) DEFAULT '' NOT NULL
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "encrypted_password" varchar(128) DEFAULT '' NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "reset_password_token" varchar(255)
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "reset_password_sent_at" datetime[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "remember_created_at" datetime
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ADD "sign_in_count" integer DEFAULT 0[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "current_sign_in_at" datetime
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_sign_in_at" datetime[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "current_sign_in_ip" varchar(255)
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "last_sign_in_ip" varchar(255)[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201111948')[0m
Migrating to CreateManifestations (20111201115353)
  [1m[35m (0.5ms)[0m  CREATE TABLE "manifestations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "original_title" text, "title_transcription" text, "title_alternative" text, "pub_date" varchar(255), "isbn" varchar(255), "nbn" varchar(255), "ndc" varchar(255), "language_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201115353')[0m
Migrating to CreatePatrons (20111201115421)
  [1m[36m (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20111201111937)
Migrating to AddDeviseToUsers (20111201111948)
Migrating to CreateManifestations (20111201115353)
Migrating to CreatePatrons (20111201115421)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "patrons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "full_name" text, "full_name_transcription" text, "language_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111201115421')
Migrating to CreateCreates (20111201115527)
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "creates" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "work_id" integer, "patron_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111201115527')
Migrating to CreateProduces (20111201115540)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "produces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "manifestation_id" integer, "patron_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111201115540')
Migrating to CreateLanguages (20111201121636)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "languages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "native_name" varchar(255), "iso_639_1" varchar(255), "iso_639_2" varchar(255), "iso_639_3" varchar(255), "note" text, "position" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111201121636')
Migrating to CreateRoles (20111201121844)
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "display_name" text, "note" text, "position" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20111201121844')
  [1m[36m (0.5ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("creates")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("languages")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("manifestations")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("patrons")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("produces")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("roles")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_users_on_reset_password_token')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.2ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:28:09 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (76.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (18.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20111201111937)
  [1m[35m (0.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201111937')[0m
Migrating to AddDeviseToUsers (20111201111948)
  [1m[35m (0.4ms)[0m  ALTER TABLE "users" ADD "email" varchar(255) DEFAULT '' NOT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "encrypted_password" varchar(128) DEFAULT '' NOT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "reset_password_token" varchar(255)
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "reset_password_sent_at" datetime[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "remember_created_at" datetime
  [1m[36m (4.8ms)[0m  [1mALTER TABLE "users" ADD "sign_in_count" integer DEFAULT 0[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "current_sign_in_at" datetime
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_sign_in_at" datetime[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "current_sign_in_ip" varchar(255)
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_sign_in_ip" varchar(255)[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.5ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201111948')[0m
Migrating to CreateManifestations (20111201115353)
  [1m[35m (0.6ms)[0m  CREATE TABLE "manifestations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "original_title" text, "title_transcription" text, "title_alternative" text, "pub_date" varchar(255), "isbn" varchar(255), "nbn" varchar(255), "ndc" varchar(255), "language_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201115353')[0m
Migrating to CreatePatrons (20111201115421)
  [1m[35m (0.8ms)[0m  CREATE TABLE "patrons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "full_name" text, "full_name_transcription" text, "language_id" integer, "required_role_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201115421')[0m
Migrating to CreateCreates (20111201115527)
  [1m[35m (0.5ms)[0m  CREATE TABLE "creates" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "work_id" integer, "patron_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201115527')[0m
Migrating to CreateProduces (20111201115540)
  [1m[35m (0.5ms)[0m  CREATE TABLE "produces" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "manifestation_id" integer, "patron_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201115540')[0m
Migrating to CreateLanguages (20111201121636)
  [1m[35m (0.5ms)[0m  CREATE TABLE "languages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "native_name" varchar(255), "iso_639_1" varchar(255), "iso_639_2" varchar(255), "iso_639_3" varchar(255), "note" text, "position" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201121636')[0m
Migrating to CreateRoles (20111201121844)
  [1m[35m (0.6ms)[0m  CREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "display_name" text, "note" text, "position" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20111201121844')[0m
  [1m[35m (0.4ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("creates")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("languages")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("manifestations")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("patrons")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("produces")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("roles")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_reset_password_token')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_users_on_email')
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.1ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:29:09 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.2ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (79.6ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00], ["full_name", "秋葉 拓哉"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '岩田 陽一' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00], ["full_name", "岩田 陽一"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '北川 宜稔' LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00], ["full_name", "北川 宜稔"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00], ["full_name", "Usu−ya"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '毎日コミュニケーションズ' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00], ["full_name", "毎日コミュニケーションズ"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "manifestations" ("created_at", "isbn", "language_id", "nbn", "ndc", "original_title", "pub_date", "title_alternative", "title_transcription", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00], ["isbn", "978-4-8399-3199-5"], ["language_id", nil], ["nbn", "21816393"], ["ndc", "００７．６４"], ["original_title", "プログラミングコンテストチャレンジブック : 問題解決のアルゴリズム活用力とコーディングテクニックを鍛える"], ["pub_date", "2010-9"], ["title_alternative", ""], ["title_transcription", nil], ["updated_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00], ["patron_id", 1], ["updated_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00], ["patron_id", 2], ["updated_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00], ["patron_id", 3], ["updated_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00], ["patron_id", 4], ["updated_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "produces" ("created_at", "manifestation_id", "patron_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00], ["manifestation_id", 1], ["patron_id", 5], ["updated_at", Thu, 01 Dec 2011 12:29:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:29:39 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.4ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.2ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (7.1ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00], ["full_name", "秋葉 拓哉"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '岩田 陽一' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00], ["full_name", "岩田 陽一"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '北川 宜稔' LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00], ["full_name", "北川 宜稔"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00], ["full_name", "Usu−ya"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '毎日コミュニケーションズ' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00], ["full_name", "毎日コミュニケーションズ"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "manifestations" ("created_at", "isbn", "language_id", "nbn", "ndc", "original_title", "pub_date", "title_alternative", "title_transcription", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00], ["isbn", "978-4-8399-3199-5"], ["language_id", nil], ["nbn", "21816393"], ["ndc", "007-64"], ["original_title", "プログラミングコンテストチャレンジブック : 問題解決のアルゴリズム活用力とコーディングテクニックを鍛える"], ["pub_date", "2010-9"], ["title_alternative", ""], ["title_transcription", nil], ["updated_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00], ["patron_id", 1], ["updated_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00], ["patron_id", 2], ["updated_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00], ["patron_id", 3], ["updated_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00], ["patron_id", 4], ["updated_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "produces" ("created_at", "manifestation_id", "patron_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00], ["manifestation_id", 1], ["patron_id", 5], ["updated_at", Thu, 01 Dec 2011 12:32:55 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:32:55 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.2ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (6.2ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00], ["full_name", "秋葉 拓哉"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '岩田 陽一' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00], ["full_name", "岩田 陽一"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '北川 宜稔' LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00], ["full_name", "北川 宜稔"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00], ["full_name", "Usu−ya"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '毎日コミュニケーションズ' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00], ["full_name", "毎日コミュニケーションズ"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "manifestations" ("created_at", "isbn", "language_id", "nbn", "ndc", "original_title", "pub_date", "title_alternative", "title_transcription", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00], ["isbn", "978-4-8399-3199-5"], ["language_id", nil], ["nbn", "21816393"], ["ndc", "007.64"], ["original_title", "プログラミングコンテストチャレンジブック : 問題解決のアルゴリズム活用力とコーディングテクニックを鍛える"], ["pub_date", "2010-9"], ["title_alternative", ""], ["title_transcription", nil], ["updated_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00], ["patron_id", 1], ["updated_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00], ["patron_id", 2], ["updated_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00], ["patron_id", 3], ["updated_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00], ["patron_id", 4], ["updated_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "produces" ("created_at", "manifestation_id", "patron_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00], ["manifestation_id", 1], ["patron_id", 5], ["updated_at", Thu, 01 Dec 2011 12:34:30 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:34:30 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.1ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (6.2ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00], ["full_name", "秋葉 拓哉"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '岩田 陽一' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00], ["full_name", "岩田 陽一"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '北川 宜稔' LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00], ["full_name", "北川 宜稔"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00], ["full_name", "Usu−ya"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '毎日コミュニケーションズ' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00], ["full_name", "毎日コミュニケーションズ"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "manifestations" ("created_at", "isbn", "language_id", "nbn", "ndc", "original_title", "pub_date", "title_alternative", "title_transcription", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00], ["isbn", "978-4-8399-3199-5"], ["language_id", nil], ["nbn", "21816393"], ["ndc", "007.64"], ["original_title", "プログラミングコンテストチャレンジブック : 問題解決のアルゴリズム活用力とコーディングテクニックを鍛える"], ["pub_date", "2010-9"], ["title_alternative", ""], ["title_transcription", nil], ["updated_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00], ["patron_id", 1], ["updated_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00], ["patron_id", 2], ["updated_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00], ["patron_id", 3], ["updated_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00], ["patron_id", 4], ["updated_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "produces" ("created_at", "manifestation_id", "patron_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00], ["manifestation_id", 1], ["patron_id", 5], ["updated_at", Thu, 01 Dec 2011 12:35:38 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:35:38 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.2ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.2ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (6.2ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00], ["full_name", "秋葉 拓哉"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '岩田 陽一' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00], ["full_name", "岩田 陽一"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '北川 宜稔' LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00], ["full_name", "北川 宜稔"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00], ["full_name", "Usu−ya"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '毎日コミュニケーションズ' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00], ["full_name", "毎日コミュニケーションズ"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "manifestations" ("created_at", "isbn", "language_id", "nbn", "ndc", "original_title", "pub_date", "title_alternative", "title_transcription", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00], ["isbn", "978-4-8399-3199-5"], ["language_id", nil], ["nbn", "21816393"], ["ndc", "007.64"], ["original_title", "プログラミングコンテストチャレンジブック : 問題解決のアルゴリズム活用力とコーディングテクニックを鍛える"], ["pub_date", "2010-9"], ["title_alternative", ""], ["title_transcription", nil], ["updated_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00], ["patron_id", 1], ["updated_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00], ["patron_id", 2], ["updated_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00], ["patron_id", 3], ["updated_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00], ["patron_id", 4], ["updated_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "produces" ("created_at", "manifestation_id", "patron_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00], ["manifestation_id", 1], ["patron_id", 5], ["updated_at", Thu, 01 Dec 2011 12:37:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:37:02 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.2ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.2ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36mRole Load (1.7ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (13.7ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00], ["full_name", "秋葉 拓哉"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '岩田 陽一' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00], ["full_name", "岩田 陽一"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '北川 宜稔' LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00], ["full_name", "北川 宜稔"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00], ["full_name", "Usu−ya"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1
  [1m[36mPatron Load (0.2ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '毎日コミュニケーションズ' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00], ["full_name", "毎日コミュニケーションズ"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "manifestations" ("created_at", "isbn", "language_id", "nbn", "ndc", "original_title", "pub_date", "title_alternative", "title_transcription", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00], ["isbn", "978-4-8399-3199-5"], ["language_id", nil], ["nbn", "21816393"], ["ndc", "007.64"], ["original_title", "プログラミングコンテストチャレンジブック : 問題解決のアルゴリズム活用力とコーディングテクニックを鍛える"], ["pub_date", "2010-9"], ["title_alternative", ""], ["title_transcription", nil], ["updated_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00], ["patron_id", 1], ["updated_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00], ["patron_id", 2], ["updated_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00], ["patron_id", 3], ["updated_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00], ["patron_id", 4], ["updated_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "produces" ("created_at", "manifestation_id", "patron_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00], ["manifestation_id", 1], ["patron_id", 5], ["updated_at", Thu, 01 Dec 2011 12:38:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:38:20 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.2ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (6.1ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00], ["full_name", "秋葉 拓哉"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00]]
  [1m[36mPatron Load (0.2ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '岩田 陽一' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00], ["full_name", "岩田 陽一"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '北川 宜稔' LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00], ["full_name", "北川 宜稔"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00], ["full_name", "Usu−ya"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '毎日コミュニケーションズ' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00], ["full_name", "毎日コミュニケーションズ"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "manifestations" ("created_at", "isbn", "language_id", "nbn", "ndc", "original_title", "pub_date", "title_alternative", "title_transcription", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00], ["isbn", "978-4-8399-3199-5"], ["language_id", nil], ["nbn", "21816393"], ["ndc", "007.64"], ["original_title", "プログラミングコンテストチャレンジブック : 問題解決のアルゴリズム活用力とコーディングテクニックを鍛える"], ["pub_date", "2010-9"], ["title_alternative", ""], ["title_transcription", nil], ["updated_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00], ["patron_id", 1], ["updated_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00], ["patron_id", 2], ["updated_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00], ["patron_id", 3], ["updated_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00], ["patron_id", 4], ["updated_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "produces" ("created_at", "manifestation_id", "patron_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00], ["manifestation_id", 1], ["patron_id", 5], ["updated_at", Thu, 01 Dec 2011 12:40:08 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:40:08 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:42:02 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.2ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.3ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (7.7ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00], ["full_name", "秋葉 拓哉"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '岩田 陽一' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00], ["full_name", "岩田 陽一"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '北川 宜稔' LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00], ["full_name", "北川 宜稔"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00], ["full_name", "Usu−ya"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '毎日コミュニケーションズ' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00], ["full_name", "毎日コミュニケーションズ"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "manifestations" ("created_at", "isbn", "language_id", "nbn", "ndc", "original_title", "pub_date", "title_alternative", "title_transcription", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00], ["isbn", "978-4-8399-3199-5"], ["language_id", nil], ["nbn", "21816393"], ["ndc", "007.64"], ["original_title", "プログラミングコンテストチャレンジブック : 問題解決のアルゴリズム活用力とコーディングテクニックを鍛える"], ["pub_date", "2010-9"], ["title_alternative", ""], ["title_transcription", nil], ["updated_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00], ["patron_id", 1], ["updated_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00], ["patron_id", 2], ["updated_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00], ["patron_id", 3], ["updated_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00], ["patron_id", 4], ["updated_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "produces" ("created_at", "manifestation_id", "patron_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00], ["manifestation_id", 1], ["patron_id", 5], ["updated_at", Thu, 01 Dec 2011 12:43:21 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:43:21 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:44:26 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:45:09 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.2ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.2ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (6.2ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00], ["full_name", "秋葉 拓哉"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '岩田 陽一' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00], ["full_name", "岩田 陽一"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '北川 宜稔' LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00], ["full_name", "北川 宜稔"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00], ["full_name", "Usu−ya"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '毎日コミュニケーションズ' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00], ["full_name", "毎日コミュニケーションズ"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "manifestations" ("created_at", "isbn", "language_id", "nbn", "ndc", "original_title", "pub_date", "title_alternative", "title_transcription", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00], ["isbn", "978-4-8399-3199-5"], ["language_id", nil], ["nbn", "21816393"], ["ndc", "007.64"], ["original_title", "プログラミングコンテストチャレンジブック : 問題解決のアルゴリズム活用力とコーディングテクニックを鍛える"], ["pub_date", "2010-9"], ["title_alternative", ""], ["title_transcription", nil], ["updated_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00], ["patron_id", 1], ["updated_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00], ["patron_id", 2], ["updated_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00], ["patron_id", 3], ["updated_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00], ["patron_id", 4], ["updated_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "produces" ("created_at", "manifestation_id", "patron_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00], ["manifestation_id", 1], ["patron_id", 5], ["updated_at", Thu, 01 Dec 2011 12:46:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:46:00 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.2ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (6.2ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:47:42 UTC +00:00], ["full_name", "秋葉 拓哉"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:47:42 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '岩田 陽一' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:47:42 UTC +00:00], ["full_name", "岩田 陽一"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:47:42 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '北川 宜稔' LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:47:42 UTC +00:00], ["full_name", "北川 宜稔"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:47:42 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:47:42 UTC +00:00], ["full_name", "Usu−ya"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:47:42 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '毎日コミュニケーションズ' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:47:42 UTC +00:00], ["full_name", "毎日コミュニケーションズ"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:47:42 UTC +00:00]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "manifestations" ("created_at", "isbn", "language_id", "nbn", "ndc", "original_title", "pub_date", "title_alternative", "title_transcription", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:47:42 UTC +00:00], ["isbn", "978-4-8399-3199-5"], ["language_id", nil], ["nbn", "21816393"], ["ndc", "007.64"], ["original_title", "プログラミングコンテストチャレンジブック : 問題解決のアルゴリズム活用力とコーディングテクニックを鍛える"], ["pub_date", "2010-9"], ["title_alternative", ""], ["title_transcription", nil], ["updated_at", Thu, 01 Dec 2011 12:47:42 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:47:43 UTC +00:00], ["patron_id", 1], ["updated_at", Thu, 01 Dec 2011 12:47:43 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:47:43 UTC +00:00], ["patron_id", 2], ["updated_at", Thu, 01 Dec 2011 12:47:43 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:47:43 UTC +00:00], ["patron_id", 3], ["updated_at", Thu, 01 Dec 2011 12:47:43 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:47:43 UTC +00:00], ["patron_id", 4], ["updated_at", Thu, 01 Dec 2011 12:47:43 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "produces" ("created_at", "manifestation_id", "patron_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:47:43 UTC +00:00], ["manifestation_id", 1], ["patron_id", 5], ["updated_at", Thu, 01 Dec 2011 12:47:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:47:43 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 3ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.2ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (6.8ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00], ["full_name", "秋葉 拓哉"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '岩田 陽一' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00], ["full_name", "岩田 陽一"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '北川 宜稔' LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00], ["full_name", "北川 宜稔"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00], ["full_name", "Usu−ya"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '毎日コミュニケーションズ' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00], ["full_name", "毎日コミュニケーションズ"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "manifestations" ("created_at", "isbn", "language_id", "nbn", "ndc", "original_title", "pub_date", "title_alternative", "title_transcription", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00], ["isbn", "978-4-8399-3199-5"], ["language_id", nil], ["nbn", "21816393"], ["ndc", "007.64"], ["original_title", "プログラミングコンテストチャレンジブック : 問題解決のアルゴリズム活用力とコーディングテクニックを鍛える"], ["pub_date", "2010-9"], ["title_alternative", ""], ["title_transcription", nil], ["updated_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00], ["patron_id", 1], ["updated_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00], ["patron_id", 2], ["updated_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00], ["patron_id", 3], ["updated_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00], ["patron_id", 4], ["updated_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "produces" ("created_at", "manifestation_id", "patron_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00], ["manifestation_id", 1], ["patron_id", 5], ["updated_at", Thu, 01 Dec 2011 12:48:18 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:48:18 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 2ms
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&any=library&cnt=10&idx=1
http://api.porta.ndl.go.jp/servicedp/opensearch?dpid=zomoku&isbn=9784839931995&cnt=1&idx=1
  [1m[36mManifestation Load (0.2ms)[0m  [1mSELECT "manifestations".* FROM "manifestations" WHERE "manifestations"."nbn" = '21816393' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLanguage Load (0.2ms)[0m  [1mSELECT "languages".* FROM "languages" WHERE "languages"."iso_639_2" = 'jpn' LIMIT 1[0m
  [1m[35mPatron Load (0.2ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '秋葉 拓哉' LIMIT 1
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (9.7ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00], ["full_name", "秋葉 拓哉"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '岩田 陽一' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00], ["full_name", "岩田 陽一"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '北川 宜稔' LIMIT 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00], ["full_name", "北川 宜稔"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00]]
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00], ["full_name", "Usu−ya"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00]]
  [1m[35mPatron Load (0.1ms)[0m  SELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = 'Usu−ya' LIMIT 1
  [1m[36mPatron Load (0.1ms)[0m  [1mSELECT "patrons".* FROM "patrons" WHERE "patrons"."full_name" = '毎日コミュニケーションズ' LIMIT 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."name" = 'Guest' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "patrons" ("created_at", "full_name", "full_name_transcription", "language_id", "required_role_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00], ["full_name", "毎日コミュニケーションズ"], ["full_name_transcription", nil], ["language_id", 1], ["required_role_id", nil], ["updated_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "manifestations" ("created_at", "isbn", "language_id", "nbn", "ndc", "original_title", "pub_date", "title_alternative", "title_transcription", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00], ["isbn", "978-4-8399-3199-5"], ["language_id", nil], ["nbn", "21816393"], ["ndc", "007.64"], ["original_title", "プログラミングコンテストチャレンジブック : 問題解決のアルゴリズム活用力とコーディングテクニックを鍛える"], ["pub_date", "2010-9"], ["title_alternative", ""], ["title_transcription", nil], ["updated_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00], ["patron_id", 1], ["updated_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00], ["patron_id", 2], ["updated_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00], ["patron_id", 3], ["updated_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00], ["work_id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "creates" ("created_at", "patron_id", "updated_at", "work_id") VALUES (?, ?, ?, ?)  [["created_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00], ["patron_id", 4], ["updated_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00], ["work_id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "produces" ("created_at", "manifestation_id", "patron_id", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00], ["manifestation_id", 1], ["patron_id", 5], ["updated_at", Thu, 01 Dec 2011 12:55:55 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1


Started GET "/ndl_books" for 127.0.0.1 at 2011-12-01 21:55:55 +0900
  Processing by NdlBooksController#index as HTML
Completed 401 Unauthorized in 1ms
